serializeJSONHandler=function(e,t){return this.splitInputNameIntoKeysArray=function(e){var t;return""===(t=(t=e.split("[")).map(function(e){return e.replace(/\]/g,"")}))[0]&&t.shift(),t},this.optionKeys=function(e){if(Object.keys)return Object.keys(e);var t,n=[];for(t in e)n.push(t);return n},this.validateType=function(e,t,n){var r;if(r=this.optionKeys(n?n.typeFunctions:this.defaultOptions.defaultTypes),!t||-1!==r.indexOf(t))return!0;throw Error("serializeJSON ERROR: Invalid type "+t+" found in input name '"+e+"', please use one of "+r.join(", "))},this.readCheckboxUncheckedValues=function(e,t,n){if(HTMLCollection.prototype.isPrototypeOf(n)||Array.isArray(n))Array.from(n).forEach(function(n){var r,a,u;null==t&&(t={}),r="input[type=checkbox][name]:not(:checked):not([disabled])",Array.from(a=n.querySelectorAll(r)).forEach(function(n){(u=n.getAttribute("data-unchecked-value"))?e.push({name:n.name,value:u}):void 0!==t.checkboxUncheckedValue&&e.push({name:n.name,value:t.checkboxUncheckedValue})})});else{var r,a,u;null==t&&(t={}),r="input[type=checkbox][name]:not(:checked):not([disabled])",Array.from(a=n.querySelectorAll(r)).forEach(function(n){(u=n.getAttribute("data-unchecked-value"))?e.push({name:n.name,value:u}):void 0!==t.checkboxUncheckedValue&&e.push({name:n.name,value:t.checkboxUncheckedValue})})}},this.tryToFindTypeFromDataAttr=function(e,t){var n,r,a,u;return HTMLCollection.prototype.isPrototypeOf(t)||Array.isArray(t)?Array.from(t).forEach(function(t){if(r='[name="'+(n=e.replace(/(:|\.|\[|\]|\s)/g,"\\$1"))+'"]',(a=t.querySelector(r)?t.querySelector(r):t)&&a.name==n)return u=a.getAttribute("data-value-type"),!0}):(r='[name="'+(n=e.replace(/(:|\.|\[|\]|\s)/g,"\\$1"))+'"]',(a=t.querySelector(r)?t.querySelector(r):t)&&a.name==n&&(u=a.getAttribute("data-value-type"))),u||null},this.extractTypeAndNameWithNoType=function(e){var t;return(t=e.match(/(.*):([^:]+)$/))?{nameWithNoType:t[1],type:t[2]}:{nameWithNoType:e,type:null}},this.defaultOptions={checkboxUncheckedValue:void 0,parseNumbers:!1,parseBooleans:!1,parseNulls:!1,parseAll:!1,parseWithFunction:null,customTypes:{},defaultTypes:{string:function(e){return String(e)},number:function(e){return Number(e)},boolean:function(e){return -1===["false","null","undefined","","0"].indexOf(e)},null:function(e){return -1===["false","null","undefined","","0"].indexOf(e)?e:null},array:function(e){return JSON.parse(e)},object:function(e){return JSON.parse(e)},auto:function(e){return this.parseValue(e,null,null,{parseNumbers:!0,parseBooleans:!0,parseNulls:!0})},skip:null},useIntKeysAsArrayIndex:!1},this.setupOpts=function(e){for(t in null==e&&(e={}),r=this.defaultOptions||{},n=["checkboxUncheckedValue","parseNumbers","parseBooleans","parseNulls","parseAll","parseWithFunction","customTypes","defaultTypes","useIntKeysAsArrayIndex"],e)if(-1===n.indexOf(t))throw Error("serializeJSON ERROR: invalid option '"+t+"'. Please use one of "+n.join(", "));u=(a=function(t){return!1!==e[t]&&""!==e[t]&&(e[t]||r[t])})("parseAll");var t,n,r,a,u,s={},i=a("defaultTypes"),o=a("customTypes");if(i&&o)for(key in i)o[key]?s[key]=o[key]:s[key]=i[key];else s=i;return{checkboxUncheckedValue:a("checkboxUncheckedValue"),parseNumbers:u||a("parseNumbers"),parseBooleans:u||a("parseBooleans"),parseNulls:u||a("parseNulls"),parseWithFunction:a("parseWithFunction"),typeFunctions:s,useIntKeysAsArrayIndex:a("useIntKeysAsArrayIndex")}},this.parseValue=function(e,t,n,r){var a,u;return(a=e,r.typeFunctions&&n&&r.typeFunctions[n])?a=r.typeFunctions[n](e):r.parseNumbers&&Number(u=e)?a=Number(e):r.parseBooleans&&("true"===e||"false"===e)?a="true"===e:r.parseNulls&&"null"==e&&(a=null),r.parseWithFunction&&!n&&(a=r.parseWithFunction(a,t)),a},this.getValue=function(e){if("select"!=e.nodeName.toLowerCase())return e.value;var t,n,r,a=e.options,u=e.selectedIndex,s="select-one"===e.type,i=s?null:[],o=s?u+1:a.length;for(r=u<0?o:s?u:0;r<o;r++)if((n=a[r]).selected&&!n.disabled&&(!n.parentNode.disabled||n.parentNode.nodeName&&"optgroup"!==n.parentNode.nodeName.toLowerCase())){if(t=this.getValue(n),s)return t;i.push(t)}return i},this.serializeField=function(e,t){return Array.isArray(this.getValue(e))?this.getValue(e).map(function(t){return{name:e.name,value:t}}):{name:e.name,value:this.getValue(e)}},this.deepSet=function(e,t,n,r){var a,u,s,i,o;if(void 0===e&&(e={}),null==r&&(r={}),!t||0===t.length)throw Error("ArgumentError: param 'keys' expected to be an array with least one element");a=t[0],1===t.length?""===a?e.push(n):e[a]=n:(u=t[1],""===a&&(a=(o=e[i=e.length-1])===Object(o)&&(void 0===o[u]||t.length>2)?i:i+1),""===u?void 0!==e[a]&&Array.isArray(e[a])||(e[a]=[]):r.useIntKeysAsArrayIndex&&/^[0-9]+$/.test(u)?void 0!==e[a]&&Array.isArray(e[a])||(e[a]=[]):(void 0===e[a]||e[a]!==Object(e[a]))&&(e[a]={}),s=t.slice(1),this.deepSet(e[a],s,n,r))},this.toJSON=function(e,t){n=this.setupOpts(t),r=this.serializeArray(e,t),this.readCheckboxUncheckedValues(r,n,e),a={};var n,r,a,u,s,i,o,l,c,p=this;return r.forEach(function(t){u=t.name,s=t.value,o=(i=p.extractTypeAndNameWithNoType(u)).nameWithNoType,(l=i.type)||(l=p.tryToFindTypeFromDataAttr(u,e)),p.validateType(u,l,n),"skip"!==l&&(c=p.splitInputNameIntoKeysArray(o),s=p.parseValue(s,u,l,n),p.deepSet(a,c,s,n))}),a},this.serializeArray=function(e,t){var n=this;if(HTMLCollection.prototype.isPrototypeOf(e)||Array.isArray(e)){var r=[];return Array.from(e).forEach(function(e){var t=e.elements;r=[...r,...t?Array.from(t):[e]]}),r=r.filter(function(e){return!!e.name&&!e.disabled&&!/^(?:submit|button|image|reset|file)$/.test(e.type)&&(e.checked||!/^(?:checkbox|radio)$/i.test(e.type))}).map(function(e){return n.serializeField(e,t)})}var a=e.elements;return(a?Array.from(a):[e]).filter(function(e){return e.name&&!e.disabled&&!/^(?:submit|button|image|reset|file)$/.test(e.type)&&(e.checked||!/^(?:checkbox|radio)$/i.test(e.type))}).map(function(e){return n.serializeField(e,t)})},this.toJSON(e,t)},serializeJSON=function(e,t){return new serializeJSONHandler(e,t)};